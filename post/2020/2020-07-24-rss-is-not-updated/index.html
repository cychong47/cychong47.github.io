<!doctype html><html lang=en-us><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Troubleshooting - rss.xml is not updated | Keep calm and Write something</title><meta name=title content="Troubleshooting - rss.xml is not updated"><meta name=description content='갑자기 어느 날 부터(정확히 말하면 7월 14일부터) podcast가 업데이트가 되지 않는다.
다음 날도, 그 다음 날도. 흠. 뭐가 문제일까?
아무튼 hugo를 이용해서 직접 사이트를 빌드해 봤다. 그랬더니 이상한 에러가 난다. os.Stat 파일이 없다는 이야기도 나오고.
뭔가 문제가 있는데 밤이라 그런지 그냥 단순하게 Hugo zen-theme 이 rss를 제대로 생성하지 못한다는 내용으로 검색을 해 봤는데 결과가 안 나온다.
cychong@mini1:~/work/cbs-ost$ hugo -t zen
Building sites … WARN 2020/07/23 23:21:25 .File.UniqueID on zero object. Wrap it in if or with: {{ with .File }}{{ .UniqueID }}{{ end }}
Total in 10016 ms
Error: Error building site: failed to render pages: render of "section" failed: "/home/cychong/work/cbs-ost/themes/zen/layouts/podcast/rss.xml:53:55": execute of template failed: template: podcast/rss.xml:53:55: executing "podcast/rss.xml" at <os.Stat>: error calling Stat: LStat content/static/podcast/cinema-2020-07-14.mp3: file does not exist
똑같은 방법을 시도하면서 다른 결과를 기다하는 건 바보라는 말을 잊고 그 다음 날도 똑같은 짓을 했다. 여전히 답이 나올리가.'><meta name=keywords content="podcast,hugo,troubleshooting,"><meta property="og:url" content="https://cychong47.github.io/post/2020/2020-07-24-rss-is-not-updated/"><meta property="og:site_name" content="Keep calm and Write something"><meta property="og:title" content="Troubleshooting - rss.xml is not updated"><meta property="og:description" content='갑자기 어느 날 부터(정확히 말하면 7월 14일부터) podcast가 업데이트가 되지 않는다.
다음 날도, 그 다음 날도. 흠. 뭐가 문제일까?
아무튼 hugo를 이용해서 직접 사이트를 빌드해 봤다. 그랬더니 이상한 에러가 난다. os.Stat 파일이 없다는 이야기도 나오고.
뭔가 문제가 있는데 밤이라 그런지 그냥 단순하게 Hugo zen-theme 이 rss를 제대로 생성하지 못한다는 내용으로 검색을 해 봤는데 결과가 안 나온다.
cychong@mini1:~/work/cbs-ost$ hugo -t zen Building sites … WARN 2020/07/23 23:21:25 .File.UniqueID on zero object. Wrap it in if or with: {{ with .File }}{{ .UniqueID }}{{ end }} Total in 10016 ms Error: Error building site: failed to render pages: render of "section" failed: "/home/cychong/work/cbs-ost/themes/zen/layouts/podcast/rss.xml:53:55": execute of template failed: template: podcast/rss.xml:53:55: executing "podcast/rss.xml" at <os.Stat>: error calling Stat: LStat content/static/podcast/cinema-2020-07-14.mp3: file does not exist 똑같은 방법을 시도하면서 다른 결과를 기다하는 건 바보라는 말을 잊고 그 다음 날도 똑같은 짓을 했다. 여전히 답이 나올리가.'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2020-07-24T00:22:45+09:00"><meta property="article:modified_time" content="2020-07-24T00:22:45+09:00"><meta property="article:tag" content="Podcast"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Troubleshooting"><meta property="og:see_also" content="https://cychong47.github.io/post/2020/2020-08-31-rss-feed-url-for-podcast/"><meta property="og:see_also" content="https://cychong47.github.io/post/2020/2020-06-28-podcast-another-issue/"><meta property="og:see_also" content="https://cychong47.github.io/post/2020/2020-06-26-no-podcast-update/"><meta property="og:see_also" content="https://cychong47.github.io/post/2020/2020-06-20-setup-podcast-blog-5/"><meta property="og:see_also" content="https://cychong47.github.io/post/2020/2020-06-18-setup-podcast-blog-2/"><meta property="og:see_also" content="https://cychong47.github.io/post/2020/2020-06-16-setup-podcast-blog-3/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Troubleshooting - rss.xml is not updated"><meta name=twitter:description content='갑자기 어느 날 부터(정확히 말하면 7월 14일부터) podcast가 업데이트가 되지 않는다.
다음 날도, 그 다음 날도. 흠. 뭐가 문제일까?
아무튼 hugo를 이용해서 직접 사이트를 빌드해 봤다. 그랬더니 이상한 에러가 난다. os.Stat 파일이 없다는 이야기도 나오고.
뭔가 문제가 있는데 밤이라 그런지 그냥 단순하게 Hugo zen-theme 이 rss를 제대로 생성하지 못한다는 내용으로 검색을 해 봤는데 결과가 안 나온다.
cychong@mini1:~/work/cbs-ost$ hugo -t zen Building sites … WARN 2020/07/23 23:21:25 .File.UniqueID on zero object. Wrap it in if or with: {{ with .File }}{{ .UniqueID }}{{ end }} Total in 10016 ms Error: Error building site: failed to render pages: render of "section" failed: "/home/cychong/work/cbs-ost/themes/zen/layouts/podcast/rss.xml:53:55": execute of template failed: template: podcast/rss.xml:53:55: executing "podcast/rss.xml" at <os.Stat>: error calling Stat: LStat content/static/podcast/cinema-2020-07-14.mp3: file does not exist 똑같은 방법을 시도하면서 다른 결과를 기다하는 건 바보라는 말을 잊고 그 다음 날도 똑같은 짓을 했다. 여전히 답이 나올리가.'><meta itemprop=name content="Troubleshooting - rss.xml is not updated"><meta itemprop=description content='갑자기 어느 날 부터(정확히 말하면 7월 14일부터) podcast가 업데이트가 되지 않는다.
다음 날도, 그 다음 날도. 흠. 뭐가 문제일까?
아무튼 hugo를 이용해서 직접 사이트를 빌드해 봤다. 그랬더니 이상한 에러가 난다. os.Stat 파일이 없다는 이야기도 나오고.
뭔가 문제가 있는데 밤이라 그런지 그냥 단순하게 Hugo zen-theme 이 rss를 제대로 생성하지 못한다는 내용으로 검색을 해 봤는데 결과가 안 나온다.
cychong@mini1:~/work/cbs-ost$ hugo -t zen Building sites … WARN 2020/07/23 23:21:25 .File.UniqueID on zero object. Wrap it in if or with: {{ with .File }}{{ .UniqueID }}{{ end }} Total in 10016 ms Error: Error building site: failed to render pages: render of "section" failed: "/home/cychong/work/cbs-ost/themes/zen/layouts/podcast/rss.xml:53:55": execute of template failed: template: podcast/rss.xml:53:55: executing "podcast/rss.xml" at <os.Stat>: error calling Stat: LStat content/static/podcast/cinema-2020-07-14.mp3: file does not exist 똑같은 방법을 시도하면서 다른 결과를 기다하는 건 바보라는 말을 잊고 그 다음 날도 똑같은 짓을 했다. 여전히 답이 나올리가.'><meta itemprop=datePublished content="2020-07-24T00:22:45+09:00"><meta itemprop=dateModified content="2020-07-24T00:22:45+09:00"><meta itemprop=wordCount content="403"><meta itemprop=keywords content="Podcast,Hugo,Troubleshooting"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:720px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--background-color:#fafafa;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--blockquote-color:#222}@media(prefers-color-scheme:dark){:root{--background-color:#fafafa;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--blockquote-color:#222}}body{font-family:var(--font-secondary);font-size:var(--font-scale);margin:auto;padding:20px;max-width:var(--width);text-align:left;background-color:var(--background-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--text-color)}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);color:var(--heading-color)}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}nav a{margin-right:8px}strong,b{color:var(--heading-color)}button{margin:0;cursor:pointer}time{font-family:monospace;font-style:normal;font-size:15px}main{line-height:1.6}table{width:100%}hr{border:0;border-top:1px dashed}img{max-width:100%}code{font-family:monospace;padding:2px;border-radius:3px}blockquote{border-left:1px solid #999;color:var(--blockquote-color);padding-left:20px;font-style:italic}footer{padding:25px 0;text-align:center}.title:hover{text-decoration:none}.title h1{font-size:1.5em}.inline{width:auto!important}.highlight,.code{border-radius:3px;margin-block-start:1em;margin-block-end:1em;overflow-x:auto}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:var(--visited-color)}</style></head><body><header><a href=/ class=title><h2>Keep calm and Write something</h2></a><nav><a href=/post/>Post</a>
<a href=/page/>Page</a>
<a href=/series/>Series</a>
<a href=/tags/>Tag</a>
<a href=/archive/>Archive</a>
<a href=/search/>Search</a></nav></header><main><content><p>갑자기 어느 날 부터(정확히 말하면 7월 14일부터) podcast가 업데이트가 되지 않는다.</p><p>다음 날도, 그 다음 날도. 흠. 뭐가 문제일까?</p><p>아무튼 <code>hugo</code>를 이용해서 직접 사이트를 빌드해 봤다. 그랬더니 이상한 에러가 난다. <code>os.Stat</code> 파일이 없다는 이야기도 나오고.</p><p>뭔가 문제가 있는데 밤이라 그런지 그냥 단순하게 Hugo <code>zen-theme</code> 이 rss를 제대로 생성하지 못한다는 내용으로 검색을 해 봤는데 결과가 안 나온다.</p><pre tabindex=0><code>cychong@mini1:~/work/cbs-ost$ hugo -t zen
Building sites … WARN 2020/07/23 23:21:25 .File.UniqueID on zero object. Wrap it in if or with: {{ with .File }}{{ .UniqueID }}{{ end }}
Total in 10016 ms
Error: Error building site: failed to render pages: render of &#34;section&#34; failed: &#34;/home/cychong/work/cbs-ost/themes/zen/layouts/podcast/rss.xml:53:55&#34;: execute of template failed: template: podcast/rss.xml:53:55: executing &#34;podcast/rss.xml&#34; at &lt;os.Stat&gt;: error calling Stat: LStat content/static/podcast/cinema-2020-07-14.mp3: file does not exist
</code></pre><p>똑같은 방법을 시도하면서 다른 결과를 기다하는 건 바보라는 말을 잊고 그 다음 날도 똑같은 짓을 했다. 여전히 답이 나올리가.</p><p>며칠 간 포기하고 있다 오늘 마음을 잡고 다시 에러 메시지를 봤다. 에러 메시지에 찍힌 mp3 파일 경로 <code>content/static/podcast/cinema-2020-07-14.mp3</code>가 이상하게 보였다. <code>content</code>는 md 파일만 가지고 있고, <code>static/podcast</code> 디렉토리는 다른 곳에 있는데 왜 <code>static/podcast</code> 디렉토리가 <code>content</code> 디렉토리 밑에 있을까 라는 의문이. 그래서 저 파일이 있나 하고 <code>cinema-2020-07-14.mp3</code> 파일이 어디에 있는 지 찾아봤다. 그런데</p><p>오잉 파일이 없다.</p><p>이제서야 다시 에러 메시지를 찬찬히 보니 그냥(?) 그 파일이 없어서 에러가 난 거였다. 이런&mldr;.. 정말 단순한 에러였는데 그걸 이해하지 못하고&mldr;</p><p>해결책은 해당 파일을 요구하는(?) md 파일을 삭제하거나, comment out시키면 된다.</p><pre tabindex=0><code>#    mp3: &#34;/podcast/cinema-2020-07-14.mp3&#34;
</code></pre><p>그리고 다시 hugo로 사이트를 빌드하니 잘 된다. ㅎ</p><p>이제 다시 이전에 Telegram으로 날아왔던 메시지를 보니까 흠&mldr; 14일에 mp3 파일이 만들어지지 않았다. 무슨 일인 지 모르겠지만 그날 mp3 파일을 만드는 공장(?)에서 에러가 발생해서 이런 문제가 발생했나 보다.</p><p><img src=/images/2020/07/20200723_2352_IMG_5066.PNG alt></p><p>전날받은 메시지를 보면 mp3 파일이 먼저 만들어지고 md 파일을 만드는 정상적인 순서로 동작했는데 문제가 된 14일은 mp3 파일이 만들어진 시간이 나중에 수신되었다. mp3 파일이 없다는&mldr;. <code>11:48 PM</code>에 받은 메시지는 그 날 RSS가 업데이트 되지 않아서 디버깅하려고 164 초 짜리 mp3 파일을 수동으로 녹음을 한 내용이 보내진 거였다는.</p><p>문제는 지금은 이런 경우에 md 파일을 만들어서 site rebuild를 시도하고 있으니 하루라도 이런 문제가 생기면 그 다음 날에 제대로 mp3 파일을 만들었다 하더라도 전날 만들어진 md 파일을 처리할 때 또 에러가 날 거라 또 수동으로 처리해야 한다는 거다.</p><p>자동화된 해결책이 필요한데 한 가지 방법은 md 파일을 만드는 건 문제가 없는데 만일 mp3 파일이 없으면 위와 같이 mp3 파일을 comment 한 형태로 만들면 되겠다.</p><pre tabindex=0><code>36     comment = &#34;#&#34; if not os.path.exists(mp3_file) else &#34;&#34;

43         buf += &#34;%s    mp3: \&#34;/podcast/%s\&#34;\n&#34; %(comment, os.path.basename(mp3_file))
</code></pre><p>이렇게 mp3 파일 경로를 확인해서 만일 없는 경우라면 앞에 <code>#</code>을 붙이는 정보면 될 듯.</p></content><p><a href=https://cychong47.github.io/tags/podcast/>#Podcast</a>
<a href=https://cychong47.github.io/tags/hugo/>#Hugo</a>
<a href=https://cychong47.github.io/tags/troubleshooting/>#Troubleshooting</a></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>