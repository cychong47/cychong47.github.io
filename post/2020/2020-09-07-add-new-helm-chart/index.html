<!doctype html><html lang=en-us><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Add new Helm Chart | Keep calm and Write something</title><meta name=title content="Add new Helm Chart"><meta name=description content="helm chart 추가하기
charts 디렉토리 아래에 추가할 helm chart 만들기
이번에는 기존에 만들어 사용하던 ghost chart를 등록해 본다.
일단 ghost chart를 아래와 같이 charts/ghost 디렉토리에 복사하고 lint 검사.
cychong@mini1:~/work/helm/my-helm-chart$ helm lint charts/ghost/
==> Linting charts/ghost/
[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, 0 chart(s) failed
Helm chart 패키징
cychong@mini1:~/work/helm/my-helm-chart$ helm package charts/*
Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/my-ghost-0.1.0.tgz
Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/nginx-0.2.0.tgz
cychong@mini1:~/work/helm/my-helm-chart$ ls *.tgz
my-ghost-0.1.0.tgz  nginx-0.2.0.tgz
Chart indexing
Helm chart 들을 indexing. Indexing 후 index.yaml 파일을 보면 이전에는 nginx만 있었는데 my-ghost라는 새로운 chart가 추가된 걸 확인할 수 있다."><meta name=keywords content="“GitHub”,“Helm”,"><meta property="og:url" content="https://cychong47.github.io/post/2020/2020-09-07-add-new-helm-chart/"><meta property="og:site_name" content="Keep calm and Write something"><meta property="og:title" content="Add new Helm Chart"><meta property="og:description" content="helm chart 추가하기 charts 디렉토리 아래에 추가할 helm chart 만들기 이번에는 기존에 만들어 사용하던 ghost chart를 등록해 본다. 일단 ghost chart를 아래와 같이 charts/ghost 디렉토리에 복사하고 lint 검사.
cychong@mini1:~/work/helm/my-helm-chart$ helm lint charts/ghost/ ==> Linting charts/ghost/ [INFO] Chart.yaml: icon is recommended 1 chart(s) linted, 0 chart(s) failed Helm chart 패키징 cychong@mini1:~/work/helm/my-helm-chart$ helm package charts/* Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/my-ghost-0.1.0.tgz Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/nginx-0.2.0.tgz cychong@mini1:~/work/helm/my-helm-chart$ ls *.tgz my-ghost-0.1.0.tgz nginx-0.2.0.tgz Chart indexing Helm chart 들을 indexing. Indexing 후 index.yaml 파일을 보면 이전에는 nginx만 있었는데 my-ghost라는 새로운 chart가 추가된 걸 확인할 수 있다."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2020-09-07T21:40:44+09:00"><meta property="article:modified_time" content="2020-09-07T21:40:44+09:00"><meta property="article:tag" content="“GitHub”"><meta property="article:tag" content="“Helm”"><meta property="og:see_also" content="https://cychong47.github.io/post/2020/2020-08-19-setup-github-based-helm-repo/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Add new Helm Chart"><meta name=twitter:description content="helm chart 추가하기 charts 디렉토리 아래에 추가할 helm chart 만들기 이번에는 기존에 만들어 사용하던 ghost chart를 등록해 본다. 일단 ghost chart를 아래와 같이 charts/ghost 디렉토리에 복사하고 lint 검사.
cychong@mini1:~/work/helm/my-helm-chart$ helm lint charts/ghost/ ==> Linting charts/ghost/ [INFO] Chart.yaml: icon is recommended 1 chart(s) linted, 0 chart(s) failed Helm chart 패키징 cychong@mini1:~/work/helm/my-helm-chart$ helm package charts/* Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/my-ghost-0.1.0.tgz Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/nginx-0.2.0.tgz cychong@mini1:~/work/helm/my-helm-chart$ ls *.tgz my-ghost-0.1.0.tgz nginx-0.2.0.tgz Chart indexing Helm chart 들을 indexing. Indexing 후 index.yaml 파일을 보면 이전에는 nginx만 있었는데 my-ghost라는 새로운 chart가 추가된 걸 확인할 수 있다."><meta itemprop=name content="Add new Helm Chart"><meta itemprop=description content="helm chart 추가하기 charts 디렉토리 아래에 추가할 helm chart 만들기 이번에는 기존에 만들어 사용하던 ghost chart를 등록해 본다. 일단 ghost chart를 아래와 같이 charts/ghost 디렉토리에 복사하고 lint 검사.
cychong@mini1:~/work/helm/my-helm-chart$ helm lint charts/ghost/ ==> Linting charts/ghost/ [INFO] Chart.yaml: icon is recommended 1 chart(s) linted, 0 chart(s) failed Helm chart 패키징 cychong@mini1:~/work/helm/my-helm-chart$ helm package charts/* Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/my-ghost-0.1.0.tgz Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/nginx-0.2.0.tgz cychong@mini1:~/work/helm/my-helm-chart$ ls *.tgz my-ghost-0.1.0.tgz nginx-0.2.0.tgz Chart indexing Helm chart 들을 indexing. Indexing 후 index.yaml 파일을 보면 이전에는 nginx만 있었는데 my-ghost라는 새로운 chart가 추가된 걸 확인할 수 있다."><meta itemprop=datePublished content="2020-09-07T21:40:44+09:00"><meta itemprop=dateModified content="2020-09-07T21:40:44+09:00"><meta itemprop=wordCount content="304"><meta itemprop=keywords content="“GitHub”,“Helm”"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:720px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--background-color:#fafafa;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--blockquote-color:#222}@media(prefers-color-scheme:dark){:root{--background-color:#fafafa;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--blockquote-color:#222}}body{font-family:var(--font-secondary);font-size:var(--font-scale);margin:auto;padding:20px;max-width:var(--width);text-align:left;background-color:var(--background-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--text-color)}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);color:var(--heading-color)}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}nav a{margin-right:8px}strong,b{color:var(--heading-color)}button{margin:0;cursor:pointer}time{font-family:monospace;font-style:normal;font-size:15px}main{line-height:1.6}table{width:100%}hr{border:0;border-top:1px dashed}img{max-width:100%}code{font-family:monospace;padding:2px;border-radius:3px}blockquote{border-left:1px solid #999;color:var(--blockquote-color);padding-left:20px;font-style:italic}footer{padding:25px 0;text-align:center}.title:hover{text-decoration:none}.title h1{font-size:1.5em}.inline{width:auto!important}.highlight,.code{border-radius:3px;margin-block-start:1em;margin-block-end:1em;overflow-x:auto}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:var(--visited-color)}</style></head><body><header><a href=/ class=title><h2>Keep calm and Write something</h2></a><nav><a href=/post/>Post</a>
<a href=/page/>Page</a>
<a href=/series/>Series</a>
<a href=/tags/>Tag</a>
<a href=/archive/>Archive</a>
<a href=/search/>Search</a></nav></header><main><content><h1 id=helm-chart-추가하기>helm chart 추가하기</h1><h2 id=charts-디렉토리-아래에-추가할-helm-chart-만들기><code>charts</code> 디렉토리 아래에 추가할 helm chart 만들기</h2><p>이번에는 기존에 만들어 사용하던 <code>ghost</code> chart를 등록해 본다.
일단 <code>ghost</code> chart를 아래와 같이 <code>charts/ghost</code> 디렉토리에 복사하고 lint 검사.</p><pre tabindex=0><code>cychong@mini1:~/work/helm/my-helm-chart$ helm lint charts/ghost/
==&gt; Linting charts/ghost/
[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, 0 chart(s) failed
</code></pre><h2 id=helm-chart-패키징>Helm chart 패키징</h2><pre tabindex=0><code>cychong@mini1:~/work/helm/my-helm-chart$ helm package charts/*
Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/my-ghost-0.1.0.tgz
Successfully packaged chart and saved it to: /home/cychong/work/helm/my-helm-chart/nginx-0.2.0.tgz
</code></pre><pre tabindex=0><code>cychong@mini1:~/work/helm/my-helm-chart$ ls *.tgz
my-ghost-0.1.0.tgz  nginx-0.2.0.tgz
</code></pre><h2 id=chart-indexing>Chart indexing</h2><p>Helm chart 들을 indexing. Indexing 후 <code>index.yaml</code> 파일을 보면 이전에는 <code>nginx</code>만 있었는데 <code>my-ghost</code>라는 새로운 chart가 추가된 걸 확인할 수 있다.</p><pre tabindex=0><code>cychong@mini1:~/work/helm/my-helm-chart$ helm repo index --url https://cychong47.github.io/helm-chart/ .
cychong@mini1:~/work/helm/my-helm-chart$ cat index.yaml
apiVersion: v1
entries:
  my-ghost:
  - apiVersion: v1
    appVersion: &#34;1.0&#34;
    created: &#34;2020-09-07T21:29:59.12354973+09:00&#34;
    description: A Helm chart for ghost
    digest: 9e8905399114cd3f8c45392fb7e716916379ad80eb366f466396722afdd6329b
    name: my-ghost
    urls:
    - https://cychong47.github.io/helm-chart/my-ghost-0.1.0.tgz
    version: 0.1.0
  nginx:
  - apiVersion: v1
    appVersion: &#34;1.0&#34;
    created: &#34;2020-09-07T21:29:59.124928723+09:00&#34;
    description: A Helm chart for nginx
    digest: 35b0caf13ee8f29a942de4994b4c43cc32adeef8ea7cd2273d779fde965e25ee
    maintainers:
    - email: cychong@gmail.com
      name: Chaeyong Chong
    name: nginx
    urls:
    - https://cychong47.github.io/helm-chart/nginx-0.2.0.tgz
    version: 0.2.0
generated: &#34;2020-09-07T21:29:59.122168178+09:00&#34;
</code></pre><h2 id=chart-upload>Chart upload</h2><p>이제 chart 파일을 업로드</p><pre tabindex=0><code>cychong@mini1:~/work/helm/my-helm-chart$ git ci -m &#34;add ghost chart&#34; &amp;&amp; git push origin master
[master 5152ee2] add ghost chart
 4 files changed, 77 insertions(+), 3 deletions(-)
 create mode 100644 ghost-value.yaml
 create mode 100644 my-ghost-0.1.0.tgz
 rewrite nginx-0.2.0.tgz (98%)
Username for &#39;https://github.com&#39;: cychong47
Password for &#39;https://cychong47@github.com&#39;:
Enumerating objects: 9, done.
Counting objects: 100% (9/9), done.
Delta compression using up to 2 threads
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 8.59 KiB | 8.59 MiB/s, done.
Total 6 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/cychong47/helm-chart.git
   1b9e101..5152ee2  master -&gt; master
</code></pre><h2 id=helm-명령으로-chart-검색>helm 명령으로 chart 검색</h2><p>helm 명령으로 추가한 ghost chart가 검색되는 지 확인</p><pre tabindex=0><code>cychong@mini1:~/work/helm/my-helm-chart$ helm search repo ghost
NAME               	CHART VERSION	APP VERSION	DESCRIPTION
myhelmrepo/my-ghost	0.1.0        	1.0        	A Helm chart for ghost
</code></pre><h2 id=reference>Reference</h2><p>[[Setup GitHub based Helm repo]]</p></content><p><a href=https://cychong47.github.io/tags/github/>#“GitHub”</a>
<a href=https://cychong47.github.io/tags/helm/>#“Helm”</a></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>