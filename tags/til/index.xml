<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>TIL on Keep calm and Write something</title><link>https://cychong47.github.io/tags/til/</link><description>Recent content in TIL on Keep calm and Write something</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Tue, 20 Feb 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://cychong47.github.io/tags/til/index.xml" rel="self" type="application/rss+xml"/><item><title>Monitoring Cilium and Hubble with Prometheus and Grafana</title><link>https://cychong47.github.io/post/2024/2024-02-20-cilium-and-hubble-with-prometheus-and-grafana/</link><pubDate>Tue, 20 Feb 2024 00:00:00 +0000</pubDate><guid>https://cychong47.github.io/post/2024/2024-02-20-cilium-and-hubble-with-prometheus-and-grafana/</guid><description>&lt;h2 id="setup-prometheus-and-grafana-to-scrap-cilium-metrics"&gt;Setup Prometheus and Grafana to scrap Cilium metrics&lt;/h2&gt;
&lt;p&gt;This will create a new namespace &lt;code&gt;cilium-monitoring&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;kubectl apply -f https://raw.githubusercontent.com/cilium/cilium/1.15.1/examples/kubernetes/addons/prometheus/monitoring-example.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="some-warnings"&gt;Some warnings&amp;hellip;&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;namespace/cilium-monitoring created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serviceaccount/prometheus-k8s created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;configmap/grafana-config created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;configmap/grafana-cilium-dashboard created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;configmap/grafana-cilium-operator-dashboard created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;configmap/grafana-hubble-dashboard created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;configmap/grafana-hubble-l7-http-metrics-by-workload created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;configmap/prometheus created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;clusterrole.rbac.authorization.k8s.io/prometheus created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;clusterrolebinding.rbac.authorization.k8s.io/prometheus created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;service/grafana created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;service/prometheus created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Warning: would violate PodSecurity &lt;span style="color:#e6db74"&gt;&amp;#34;restricted:latest&amp;#34;&lt;/span&gt;: allowPrivilegeEscalation !&lt;span style="color:#f92672"&gt;=&lt;/span&gt; false &lt;span style="color:#f92672"&gt;(&lt;/span&gt;container &lt;span style="color:#e6db74"&gt;&amp;#34;grafana-core&amp;#34;&lt;/span&gt; must set securityContext.allowPrivilegeEscalation&lt;span style="color:#f92672"&gt;=&lt;/span&gt;false&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, unrestricted capabilities &lt;span style="color:#f92672"&gt;(&lt;/span&gt;container &lt;span style="color:#e6db74"&gt;&amp;#34;grafana-core&amp;#34;&lt;/span&gt; must set securityContext.capabilities.drop&lt;span style="color:#f92672"&gt;=[&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;ALL&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;])&lt;/span&gt;, runAsNonRoot !&lt;span style="color:#f92672"&gt;=&lt;/span&gt; true &lt;span style="color:#f92672"&gt;(&lt;/span&gt;pod or container &lt;span style="color:#e6db74"&gt;&amp;#34;grafana-core&amp;#34;&lt;/span&gt; must set securityContext.runAsNonRoot&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, seccompProfile &lt;span style="color:#f92672"&gt;(&lt;/span&gt;pod or container &lt;span style="color:#e6db74"&gt;&amp;#34;grafana-core&amp;#34;&lt;/span&gt; must set securityContext.seccompProfile.type to &lt;span style="color:#e6db74"&gt;&amp;#34;RuntimeDefault&amp;#34;&lt;/span&gt; or &lt;span style="color:#e6db74"&gt;&amp;#34;Localhost&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;deployment.apps/grafana created
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Warning: would violate PodSecurity &lt;span style="color:#e6db74"&gt;&amp;#34;restricted:latest&amp;#34;&lt;/span&gt;: allowPrivilegeEscalation !&lt;span style="color:#f92672"&gt;=&lt;/span&gt; false &lt;span style="color:#f92672"&gt;(&lt;/span&gt;container &lt;span style="color:#e6db74"&gt;&amp;#34;prometheus&amp;#34;&lt;/span&gt; must set securityContext.allowPrivilegeEscalation&lt;span style="color:#f92672"&gt;=&lt;/span&gt;false&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, unrestricted capabilities &lt;span style="color:#f92672"&gt;(&lt;/span&gt;container &lt;span style="color:#e6db74"&gt;&amp;#34;prometheus&amp;#34;&lt;/span&gt; must set securityContext.capabilities.drop&lt;span style="color:#f92672"&gt;=[&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;ALL&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;])&lt;/span&gt;, runAsNonRoot !&lt;span style="color:#f92672"&gt;=&lt;/span&gt; true &lt;span style="color:#f92672"&gt;(&lt;/span&gt;pod or container &lt;span style="color:#e6db74"&gt;&amp;#34;prometheus&amp;#34;&lt;/span&gt; must set securityContext.runAsNonRoot&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, seccompProfile &lt;span style="color:#f92672"&gt;(&lt;/span&gt;pod or container &lt;span style="color:#e6db74"&gt;&amp;#34;prometheus&amp;#34;&lt;/span&gt; must set securityContext.seccompProfile.type to &lt;span style="color:#e6db74"&gt;&amp;#34;RuntimeDefault&amp;#34;&lt;/span&gt; or &lt;span style="color:#e6db74"&gt;&amp;#34;Localhost&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;deployment.apps/prometheus created
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="kubectl-get-all"&gt;kubectl get all&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;❯ kubectl get all -n cilium-monitoring 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NAME READY STATUS RESTARTS AGE
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pod/grafana-6f4755f98c-8c7sg 1/1 Running &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; 57s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pod/prometheus-67fdcf4796-vc8hd 1/1 Running &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; 57s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NAME TYPE CLUSTER-IP EXTERNAL-IP PORT&lt;span style="color:#f92672"&gt;(&lt;/span&gt;S&lt;span style="color:#f92672"&gt;)&lt;/span&gt; AGE
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;service/grafana ClusterIP 10.102.147.187 &amp;lt;none&amp;gt; 3000/TCP 57s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;service/prometheus ClusterIP 10.104.8.139 &amp;lt;none&amp;gt; 9090/TCP 57s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NAME READY UP-TO-DATE AVAILABLE AGE
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;deployment.apps/grafana 1/1 &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; 57s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;deployment.apps/prometheus 1/1 &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; 57s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NAME DESIRED CURRENT READY AGE
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;replicaset.apps/grafana-6f4755f98c &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; 57s
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;replicaset.apps/prometheus-67fdcf4796 &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; 57s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="change-service-type-to-loadbalancer"&gt;Change service type to LoadBalancer&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;❯ kubectl patch svc prometheus -n cilium-monitoring -p &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;type&amp;#34;: &amp;#34;LoadBalancer&amp;#34;}}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;❯ kubectl patch svc grafana -n cilium-monitoring -p &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;type&amp;#34;: &amp;#34;LoadBalancer&amp;#34;}}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now &lt;code&gt;TYPE&lt;/code&gt; is &lt;code&gt;LoadBalancer&lt;/code&gt; and &lt;code&gt;EXTERNAL-IP&lt;/code&gt; is assigned for each service&lt;/p&gt;</description></item><item><title>Install cockpit - linux server manager</title><link>https://cychong47.github.io/post/2021/2021-03-04-install-cockpit/</link><pubDate>Thu, 04 Mar 2021 22:06:00 +0900</pubDate><guid>https://cychong47.github.io/post/2021/2021-03-04-install-cockpit/</guid><description>&lt;pre tabindex="0"&gt;&lt;code&gt;$ sudo apt install -y cockpit sssd-dbus
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;$ sudo ufw allow 9090/tcp ; sudo systemctl start cockpit`
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;$ ss -tunlp |grep 9090
tcp LISTEN 0 4096 *:9090 *:*
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src="https://cychong47.github.io/images/2021/03/2021-03-04-cockpit-web.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;CPU load 정보가 주기적으로 100%까지 튀네. 거의 10초 단위로. 뭘까
&lt;img src="https://cychong47.github.io/images/2021/03/2021-03-04-cockpit-cpu.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;여러 개의 리눅스 서버가 있는 경우 한 곳에 추가해서 single glass of pane을 만들 수도 있다.
&lt;img src="https://cychong47.github.io/images/2021/03/2021-03-04-cockpit-add-another-host.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;추가된 서버들은 dashboard에서 drop list로 보여지므로 원하는 대상을 선택
&lt;img src="https://cychong47.github.io/images/2021/03/2021-03-04-cockpit-show-another-host.png" alt=""&gt;&lt;/p&gt;</description></item><item><title>Install Influxdb and Grafana With Helm</title><link>https://cychong47.github.io/post/2020/2020-10-04-install-influxdb-grafana-with-helm/</link><pubDate>Sun, 04 Oct 2020 23:36:26 +0900</pubDate><guid>https://cychong47.github.io/post/2020/2020-10-04-install-influxdb-grafana-with-helm/</guid><description>&lt;h2 id="install-influxdb-with-helm"&gt;Install InfluxDB with helm&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/influxdata/helm-charts"&gt;GitHub - influxdata/helm-charts: Official Helm Chart Repository for InfluxData Applications&lt;/a&gt; 가 helm chart를 이용한 설치법을 제공하는 공식 페이지.&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;helm repo add influxdata https://helm.influxdata.com/
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;$ helm repo list
WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /home/cychong/.kube/config
WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /home/cychong/.kube/config
NAME 	URL
myhelmrepo 	https://cychong47.github.io/helm-chart/
infracloudio	https://infracloudio.github.io/charts
influxdata 	https://helm.influxdata.com/
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;$ helm search repo influxdata
NAME 	CHART VERSION	APP VERSION	DESCRIPTION
influxdata/chronograf 	1.1.17 	1.8.0 	Open-source web application written in Go and R...
influxdata/influxdb 	4.8.5 	1.8.0 	Scalable datastore for metrics, events, and rea...
influxdata/influxdb-enterprise	0.1.10 	1.8.0 	Run InfluxDB Enterprise on Kubernetes
influxdata/influxdb2 	1.0.7 	2.0.0-beta 	A Helm chart for InfluxDB v2
influxdata/kapacitor 	1.3.1 	1.5.4 	InfluxDB&amp;#39;s native data processing engine. It ca...
influxdata/telegraf 	1.7.25 	1.14 	Telegraf is an agent written in Go for collecti...
influxdata/telegraf-ds 	1.0.16 	1.14 	Telegraf is an agent written in Go for collecti...
influxdata/telegraf-operator 	1.1.3 	v1.1.0 	A Helm chart for Kubernetes to deploy telegraf-...
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;$ helm upgrade --install -f influxdb-value.yaml influxdb influxdata/influxdb
Release &amp;#34;influxdb&amp;#34; does not exist. Installing it now.
NAME: influxdb
LAST DEPLOYED: Sat Oct 3 10:22:32 2020
NAMESPACE: default
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
InfluxDB can be accessed via port 8086 on the following DNS name from within your cluster:

 http://influxdb.default:8086

You can connect to the remote instance with the influx CLI. To forward the API port to localhost:8086, run the following:

 kubectl port-forward --namespace default $(kubectl get pods --namespace default -l app=influxdb -o jsonpath=&amp;#39;{ .items[0].metadata.name }&amp;#39;) 8086:8086

You can also connect to the influx CLI from inside the container. To open a shell session in the InfluxDB pod, run the following:

 kubectl exec -i -t --namespace default $(kubectl get pods --namespace default -l app=influxdb -o jsonpath=&amp;#39;{.items[0].metadata.name}&amp;#39;) /bin/sh

To view the logs for the InfluxDB pod, run the following:

 kubectl logs -f --namespace default $(kubectl get pods --namespace default -l app=influxdb -o jsonpath=&amp;#39;{ .items[0].metadata.name }&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;$ kubectl get pods
NAME READY STATUS RESTARTS AGE
influxdb-0 1/1 Running 0 87s
podcast-nginx-659bcb6485-ps7qq 1/1 Running 0 86m
sosa0sa-nginx-87fc9949c-wb4jp 1/1 Running 0 95m

$ kubectl get svc
NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE
influxdb ClusterIP 10.110.66.138 &amp;lt;none&amp;gt; 8086/TCP,8088/TCP 92s
kubernetes ClusterIP 10.96.0.1 &amp;lt;none&amp;gt; 443/TCP 390d
podcast-nginx NodePort 10.108.15.141 192.168.1.100 8099:30912/TCP 86m
sosa0sa-nginx NodePort 10.100.21.119 192.168.1.100 80:31806/TCP 95m
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id="influxdb-container에-접속해서-cli확인"&gt;InfluxDB container에 접속해서 CLI확인&lt;/h3&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl kubectl exec [POD] -- [COMMAND] instead.
bash-4.4# influx
Connected to http://localhost:8086 version 1.8.0
InfluxDB shell version: 1.8.0
&amp;gt; show databases
name: databases
name
----
_internal
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;$ helm install -f pocket-stat-value.yaml pocket-stat helm-chart/charts/pocket-stat/
NAME: pocket-stat
LAST DEPLOYED: Sun Oct 4 20:40:11 2020
NAMESPACE: default
STATUS: deployed
REVISION: 1
NOTES:
1. Get the application URL by running these commands:
 export NODE_PORT=$(kubectl get --namespace default -o jsonpath=&amp;#34;{.spec.ports[0].nodePort}&amp;#34; services pocket-stat)
 export NODE_IP=$(kubectl get nodes --namespace default -o jsonpath=&amp;#34;{.items[0].status.addresses[0].address}&amp;#34;)
 echo http://$NODE_IP:$NODE_PORT
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="pocket-stat-container를-이용해서-임시-데이터-입력"&gt;&lt;code&gt;pocket-stat&lt;/code&gt; container를 이용해서 임시 데이터 입력&lt;/h2&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;$ helm install -f pocket-stat-value.yaml pocket-stat ./helm-chart/charts/pocket-stat
NAME: pocket-stat
LAST DEPLOYED: Sun Oct 4 22:46:26 2020
NAMESPACE: default
STATUS: deployed
REVISION: 1
NOTES:
1. Get the application URL by running these commands:
 export NODE_PORT=$(kubectl get --namespace default -o jsonpath=&amp;#34;{.spec.ports[0].nodePort}&amp;#34; services pocket-stat)
 export NODE_IP=$(kubectl get nodes --namespace default -o jsonpath=&amp;#34;{.items[0].status.addresses[0].address}&amp;#34;)
 echo http://$NODE_IP:$NODE_PORT

$ kubectl get pods
NAME READY STATUS RESTARTS AGE
influxdb-0 1/1 Running 0 36h
pocket-stat-5b86fbc8f7-xpf9j 1/1 Running 0 20s
podcast-nginx-659bcb6485-ps7qq 1/1 Running 0 37h
sosa0sa-nginx-87fc9949c-wb4jp 1/1 Running 0 37h
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;pocket-stat&lt;/code&gt; example app은 5초 주기로 임의의 데이터를 influxdb에 저장하는 동작 수행&lt;/p&gt;</description></item><item><title>Botkube to monitor K8s cluster in Slack</title><link>https://cychong47.github.io/post/2020/2020-09-04-install-botkube/</link><pubDate>Fri, 04 Sep 2020 23:51:45 +0900</pubDate><guid>https://cychong47.github.io/post/2020/2020-09-04-install-botkube/</guid><description>&lt;h1 id="install-botkube-for-k8s-and-slack"&gt;Install BotKube for k8s and slack&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://www.botkube.io/installation/slack/"&gt;Slack :: Messaging bot for monitoring and debugging Kubernetes clusters&lt;/a&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;cychong@mini1:~$ helm repo add infracloudio https://infracloudio.github.io/charts
&amp;#34;infracloudio&amp;#34; has been added to your repositories
cychong@mini1:~$ helm repo update
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the &amp;#34;infracloudio&amp;#34; chart repository
...Successfully got an update from the &amp;#34;myhelmrepo&amp;#34; chart repository
Update Complete. ⎈ Happy Helming!⎈
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;botkube를 위한 namespace 만들어주기&lt;/p&gt;</description></item><item><title>Boundary Clock</title><link>https://cychong47.github.io/post/2019/boundary-clock/</link><pubDate>Thu, 18 Jul 2019 14:19:02 +0900</pubDate><guid>https://cychong47.github.io/post/2019/boundary-clock/</guid><description>&lt;p&gt;&lt;a href="http://community.cambiumnetworks.com/t5/PTP-FAQ/IEEE-1588-What-s-the-difference-between-a-Boundary-Clock-and/td-p/50392"&gt;IEEE 1588: What’s the difference between a Boundary Clock and Transparent Clock?&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="ieee-1588-2002"&gt;IEEE 1588 2002&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Original standard&lt;/li&gt;
&lt;li&gt;Ordinary Clock : GrandMaster of Slave. Always a single port&lt;/li&gt;
&lt;li&gt;Boundary Clock
&lt;ul&gt;
&lt;li&gt;clock node that has two or more ports (router or switch)&lt;/li&gt;
&lt;li&gt;One port as a slave clock,&lt;/li&gt;
&lt;li&gt;The remaining ports are master clock for other nodes.&lt;/li&gt;
&lt;li&gt;BC recovers the time of day within the slave clock and relays it as a reference to the mater clock function&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="1pps"&gt;1PPS&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Pulse-Per-Second&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.iqdfrequencyproducts.com/media/pg/1589/1495630251/gps-do.pdf"&gt;https://www.iqdfrequencyproducts.com/media/pg/1589/1495630251/gps-do.pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="holdover-time"&gt;Holdover time&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Time to maintain the accuracy during the GPS is not locked&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="oxco-vs-tcxo"&gt;OXCO vs. TCXO&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Oven Controlled Oscillator
&lt;ul&gt;
&lt;li&gt;ensure 8 microseconds of holdover from 8 to 24 hours,&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.eetimes.com/document.asp?doc_id=1278627#"&gt;https://www.eetimes.com/document.asp?doc_id=1278627#&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;TCXO(Temperature-Compensated Crystal Oscillator)&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>생각 정리의 기술</title><link>https://cychong47.github.io/post/2018/mindmap/</link><pubDate>Wed, 20 Jun 2018 14:00:06 +0900</pubDate><guid>https://cychong47.github.io/post/2018/mindmap/</guid><description>&lt;p&gt;오늘 회사에서 점심 시간에 배운 mindmap 활용법&lt;/p&gt;
&lt;p&gt;&lt;img src="https://cychong47.github.io/images/2018/06/mindmap.png" alt="mindmap"&gt;&lt;/p&gt;
&lt;p&gt;iThoughtX를 OS X, iOS용으로 모두 구입할 만큼 마인드맵에 관심이 있긴 한데 생각을 풀어낼 때 다양한 framework을 활용할 수 있다는 건 몰랐다. 관련된 책을 한번 읽어보면 좋겠네.&lt;/p&gt;
&lt;p&gt;오늘 강의해준 신 분은 무려 자기 이름을 걸로 책을 낸 저자 동종성 님&lt;br&gt;
&lt;img src="https://cychong47.github.io/images/2018/06/8982500995_1-1.jpg" alt="8982500995_1-1"&gt;&lt;/p&gt;</description></item><item><title>Grafana, influxDB and python</title><link>https://cychong47.github.io/post/2018/grafana-influxdb-and-python/</link><pubDate>Wed, 06 Jun 2018 04:33:06 +0900</pubDate><guid>https://cychong47.github.io/post/2018/grafana-influxdb-and-python/</guid><description>&lt;p&gt;Time-series data를 python을 이용해서 influxDB에 저장하고, Grafana로 그래프를 보여주는 예제&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/cychong47/influxdb_example.git"&gt;https://github.com/cychong47/influxdb_example.git&lt;/a&gt;&lt;/p&gt;
&lt;h1 id="install-grafana-and-influxdb"&gt;Install Grafana and influxDB&lt;/h1&gt;
&lt;h2 id="install-grafana"&gt;Install Grafana&lt;/h2&gt;
&lt;p&gt;직접 호스트에 설치할 수도 있지만, 세상 편하게 만들어준 docker를 이용해서 grafana, influxdb등을 설치하자.&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;mbpr15:~ cychong$ docker pull grafana/grafana 
Using default tag: latest
latest: Pulling from grafana/grafana
f2aa67a397c4: Pull complete 
89573effc7c8: Pull complete 
b55c103da375: Pull complete 
Digest: sha256:364bec4a39ecbec744ea4270aae35f6554eb6f2047b3ee08f7b5f1134857c32c
Status: Downloaded newer image for grafana/grafana:latest
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Start &lt;code&gt;grafana&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;mbpr15:~ cychong$ docker run -d -p 3000:3000 —name grafana grafana/grafana 
148894d7009259b02b04e1a98467f549400be91f9b055f8686557d69b9339e4b
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="install-influxdb"&gt;Install influxDB&lt;/h2&gt;
&lt;p&gt;influxdb도 docker 명령어 하나로 설치&lt;/p&gt;</description></item><item><title>Vagrant</title><link>https://cychong47.github.io/post/2017/vagrant-2/</link><pubDate>Tue, 21 Nov 2017 15:04:19 +0900</pubDate><guid>https://cychong47.github.io/post/2017/vagrant-2/</guid><description>&lt;h1 id="vagrant"&gt;Vagrant&lt;/h1&gt;
&lt;h2 id="what-is-a-vagrant"&gt;What is a Vagrant?&lt;/h2&gt;
&lt;p&gt;Backend에 virtualbox를 사용(변경 가능) 하고, virtualbox를 이용해 VM을 생성하여 그 VM 내 원하는 환경(특정 OS부터 특정 library까지) 을 구성함.&lt;/p&gt;
&lt;p&gt;예전에 fd.io에서 빌드하는 vpp 개발 환경이 vagrant로 되어 있었는데 왜 그런가 싶었는데 이제 생각해 보니 vpp 동작에 필요한 OS, kernel module, DPDK SDK 와 패치 들 그리고 vpp code 까지 모든 걸 제어할 수 있도록 VagrantFile을 만들어서 개발 환경을 표준화하려는 것 이었다는.&lt;/p&gt;
&lt;p&gt;Container와 달리 독립된 OS환경을 가질 수 있으므로 OS버전이 다르거나 , 커널 모듈 수정 등을 필요로 한 경우에 유용할 듯&lt;/p&gt;</description></item></channel></rss>