<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Configmap on Keep calm and Write something</title><link>https://cychong47.github.io/tags/configmap/</link><description>Recent content in Configmap on Keep calm and Write something</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 19 Oct 2020 14:21:03 +0900</lastBuildDate><atom:link href="https://cychong47.github.io/tags/configmap/index.xml" rel="self" type="application/rss+xml"/><item><title>Use the Secret and ConfigMaps</title><link>https://cychong47.github.io/post/2020/2020-10-19-use-the-secret-and-configmaps/</link><pubDate>Mon, 19 Oct 2020 14:21:03 +0900</pubDate><guid>https://cychong47.github.io/post/2020/2020-10-19-use-the-secret-and-configmaps/</guid><description>&lt;h1 id="use-the-secret-and-configmaps"&gt;Use the Secret and ConfigMaps&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;$ cat my-secret.yaml
apiVersion: v1
kind: Secret
metadata:
 name: mysecret
type: Opaque
stringData:
 WSO2_CLOUD_ORG_KEY: &amp;#34;mycompany&amp;#34;
 WSO2_CLOUD_EMAIL: &amp;#34;sample-email@wso2.com&amp;#34;
 WSO2_CLOUD_PASSWORD: &amp;#34;password&amp;#34;

$ kubectl apply -f my-secret.yaml
secret/mysecret created
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;From &lt;a href="https://medium.com/faun/using-kubernetes-secrets-as-environment-variables-5ea3ef7581ef"&gt;Using Kubernetes Secrets as Environment Variables&lt;/a&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; spec: 
 containers: 
 - 
 env: 
 - 
 name: WSO2_CLOUD_ORG_KEY
 valueFrom:
 secretKeyRef:
 name: mysecret
 key: WSO2_CLOUD_ORG_KEY
 ...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src="Use%20the%20Secret%20and%20ConfigMaps/bear_sketch@2x.png" alt=""&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;apiVersion&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;v1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;kind&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;Secret&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;name&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;my-tokens&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;type&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;Opaque&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;stringData&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;pinboard_key&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;pocket_consumer_key&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;pocket_access_token&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;slack_api_token&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;slack_events_token&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;slack_verification_token&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;slack_signing_secret&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;telegram_token&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;telegram_api_id&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;telegram_api_hash&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;FIXME&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;$ kubectl apply -f my-tokens.yaml 
secret/my-tokens created

$ kubectl get secrets
NAME TYPE DATA AGE
default-token-57nq8 kubernetes.io/service-account-token 3 395d
grafana Opaque 3 2d23h
grafana-test-token-88vrz kubernetes.io/service-account-token 3 2d23h
grafana-token-zc79r kubernetes.io/service-account-token 3 2d23h
influxdb-token-bjb5d kubernetes.io/service-account-token 3 4d12h
my-secret kubernetes.io/dockerconfigjson 1 269d
my-tokens Opaque 7 4s
sh.helm.release.v1.grafana.v1 helm.sh/release.v1 1 2d23h
sh.helm.release.v1.influxdb.v1 helm.sh/release.v1 1 4d12h
sh.helm.release.v1.podcast.v1 helm.sh/release.v1 1 4d13h
sh.helm.release.v1.sosa0sa.v1 helm.sh/release.v1 1 4d13h

$ kubectl get secrets my-tokens
NAME TYPE DATA AGE
my-tokens Opaque 7 7s

$ kubectl describe secret my-tokens
Name: my-tokens
Namespace: default
Labels: &amp;lt;none&amp;gt;
Annotations:
Type: Opaque

Data
====
pinboard_key: 30 bytes
slack_signing_secret: 32 bytes
telegram_api_id: 7 bytes
verification_token: 24 bytes
pocket_access_token: 30 bytes
pocket_consumer_key: 30 bytes
slack_api_token: 56 bytes
slack_events_token: 32 bytes
telegram_api_hash: 32 bytes
telegram_token: 46 bytes
&lt;/code&gt;&lt;/pre&gt;</description></item></channel></rss>